(function(){var e={435:function(e,t,n){var s={"./icons-payrexx-p-color.svg":439,"./icons-payrexx-p-grey.svg":957,"./icons-payrexx-p-white.svg":564};function a(e){return n(i(e))}function i(e){if(!n.o(s,e)){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}a.keys=function(){return Object.keys(s)},a.resolve=i,e.exports=a,a.id=435},101:function(){},227:function(){},439:function(e){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="93.0455mm" height="93.0455mm" viewBox="0 0 263.751 263.751"><title>payrexx_p-color</title><path d="M131.8756,15.9016A115.9744,115.9744,0,0,0,63.9083,225.8464V62.0188H86.5308V76.5462a67.6079,67.6079,0,0,1,47.1319-18.9727c39.5883,0,69.7526,32.8551,69.7526,73.2544,0,39.8562-30.1643,72.1755-69.7526,72.1755a68.1563,68.1563,0,0,1-47.1319-18.675V238.647A115.9857,115.9857,0,1,0,131.8756,15.9016Z" style="fill:#00aff0"></path><path d="M180.5247,130.8279c0-28.8177-21.008-52.2464-46.862-52.2464-25.5838,0-46.5918,23.4287-46.5918,52.2464,0,28.277,21.008,51.17,46.5918,51.17C159.5167,181.9979,180.5247,159.1049,180.5247,130.8279Z" style="fill:#00aff0"></path></svg>'},957:function(e){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="93.0455mm" height="93.0455mm" viewBox="0 0 263.751 263.751"><title>payrexx_p-grey</title><path d="M131.8756,15.9016A115.9744,115.9744,0,0,0,63.9083,225.8464V62.0188H86.5308V76.5462a67.6079,67.6079,0,0,1,47.1319-18.9727c39.5883,0,69.7526,32.8551,69.7526,73.2544,0,39.8562-30.1643,72.1755-69.7526,72.1755a68.1563,68.1563,0,0,1-47.1319-18.675V238.647A115.9857,115.9857,0,1,0,131.8756,15.9016Z" style="fill:#706f6f"></path><path d="M180.5247,130.8279c0-28.8177-21.008-52.2464-46.862-52.2464-25.5838,0-46.5918,23.4287-46.5918,52.2464,0,28.277,21.008,51.17,46.5918,51.17C159.5167,181.9979,180.5247,159.1049,180.5247,130.8279Z" style="fill:#706f6f"></path></svg>'},564:function(e){e.exports='<svg xmlns="http://www.w3.org/2000/svg" width="93.0455mm" height="93.0455mm" viewBox="0 0 263.751 263.751"><title>payrexx_p-white</title><path d="M131.8756,15.9016A115.9744,115.9744,0,0,0,63.9083,225.8464V62.0188H86.5308V76.5462a67.6079,67.6079,0,0,1,47.1319-18.9727c39.5883,0,69.7526,32.8551,69.7526,73.2544,0,39.8562-30.1643,72.1755-69.7526,72.1755a68.1563,68.1563,0,0,1-47.1319-18.675V238.647A115.9857,115.9857,0,1,0,131.8756,15.9016Z" style="fill:#fff"></path><path d="M180.5247,130.8279c0-28.8177-21.008-52.2464-46.862-52.2464-25.5838,0-46.5918,23.4287-46.5918,52.2464,0,28.277,21.008,51.17,46.5918,51.17C159.5167,181.9979,180.5247,159.1049,180.5247,130.8279Z" style="fill:#fff"></path></svg>'},121:function(){let{Application:e}=Shopware,t=Shopware.Classes.ApiService;class n extends t{constructor(e,t,n="payrexx_payment"){super(e,t,n)}validateApiCredentials(e){let n=this.getBasicHeaders();return this.httpClient.post(`_action/${this.getApiBasePath()}/validate-api-credentials`,{credentials:e},{headers:n}).then(e=>t.handleResponse(e))}}e.addServiceProvider("PayrexxPaymentSettingsService",t=>new n(e.getContainer("init").httpClient,t.loginService))},958:function(e,t,n){var s=n(101);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals),n(346).Z("e0abc26c",s,!0,{})},195:function(e,t,n){var s=n(227);s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals),n(346).Z("14a63876",s,!0,{})},346:function(e,t,n){"use strict";function s(e,t){for(var n=[],s={},a=0;a<t.length;a++){var i=t[a],r=i[0],o={id:e+":"+a,css:i[1],media:i[2],sourceMap:i[3]};s[r]?s[r].parts.push(o):n.push(s[r]={id:r,parts:[o]})}return n}n.d(t,{Z:function(){return m}});var a="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!a)throw Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},r=a&&(document.head||document.getElementsByTagName("head")[0]),o=null,l=0,p=!1,c=function(){},u=null,d="data-vue-ssr-id",g="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(e,t,n,a){p=n,u=a||{};var r=s(e,t);return y(r),function(t){for(var n=[],a=0;a<r.length;a++){var o=i[r[a].id];o.refs--,n.push(o)}t?y(r=s(e,t)):r=[];for(var a=0;a<n.length;a++){var o=n[a];if(0===o.refs){for(var l=0;l<o.parts.length;l++)o.parts[l]();delete i[o.id]}}}}function y(e){for(var t=0;t<e.length;t++){var n=e[t],s=i[n.id];if(s){s.refs++;for(var a=0;a<s.parts.length;a++)s.parts[a](n.parts[a]);for(;a<n.parts.length;a++)s.parts.push(h(n.parts[a]));s.parts.length>n.parts.length&&(s.parts.length=n.parts.length)}else{for(var r=[],a=0;a<n.parts.length;a++)r.push(h(n.parts[a]));i[n.id]={id:n.id,refs:1,parts:r}}}}function x(){var e=document.createElement("style");return e.type="text/css",r.appendChild(e),e}function h(e){var t,n,s=document.querySelector("style["+d+'~="'+e.id+'"]');if(s){if(p)return c;s.parentNode.removeChild(s)}if(g){var a=l++;t=v.bind(null,s=o||(o=x()),a,!1),n=v.bind(null,s,a,!0)}else t=w.bind(null,s=x()),n=function(){s.parentNode.removeChild(s)};return t(e),function(s){s?(s.css!==e.css||s.media!==e.media||s.sourceMap!==e.sourceMap)&&t(e=s):n()}}var f=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}();function v(e,t,n,s){var a=n?"":s.css;if(e.styleSheet)e.styleSheet.cssText=f(t,a);else{var i=document.createTextNode(a),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(i,r[t]):e.appendChild(i)}}function w(e,t){var n=t.css,s=t.media,a=t.sourceMap;if(s&&e.setAttribute("media",s),u.ssrId&&e.setAttribute(d,t.id),a&&(n+="\n/*# sourceURL="+a.sources[0]+" */\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},t={};function n(s){var a=t[s];if(void 0!==a)return a.exports;var i=t[s]={id:s,exports:{}};return e[s](i,i.exports,n),i.exports}n.d=function(e,t){for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="bundles/payrexxpaymentgatewaysw6/",window?.__sw__?.assetPath&&(n.p=window.__sw__.assetPath+"/bundles/payrexxpaymentgatewaysw6/"),function(){"use strict";let{Component:e}=Shopware;e.register("payrexx-payment-settings-icon",{template:'{% block payrexx_payment_settings_icon %}\n    <sw-icon name="payrexx-p-color" multicolor></sw-icon>\n{% endblock %}\n'}),n(958);let{Component:t}=Shopware;t.override("sw-settings-index",{template:'{% block sw_settings_content_card_slot_plugins %}\n    {% parent %}\n\n    <sw-settings-item :label="$tc(\'payrexx-payment.module.title\')"\n                      :to="{ name: \'payrexx.payment.index\' }"\n                      :backgroundEnabled="false">\n        <template #icon>\n            <img class="sw-settings-index__payrexx-icon" :src="\'payrexxpaymentgatewaysw6/administration/plugin.png\' | asset" :alt="Payrexx">\n        </template>\n    </sw-settings-item>\n{% endblock %}\n'}),n(195);let{Component:s,Mixin:a}=Shopware;s.register("payrexx-settings",{template:'{% block payrexx_payment_settings %}\n<sw-page class="payrexx-payment">\n    {% block payrexx_payment_settings_header %}\n    <template slot="smart-bar-header">\n        <h2>\n            {{ $tc(\'sw-settings.index.title\') }}\n            <sw-icon\n                name="regular-chevron-right-xs"\n                small\n            />\n            {{ $tc(\'payrexx-payment.settingsForm.title\') }}\n        </h2>\n    </template>\n    {% endblock %}\n    {% block payrexx_payment_actions %}\n    <template #smart-bar-actions>\n        {% block payrexx_payment_settings_actions_feedback %}\n        <sw-button\n            @click="isSupportModalOpen = true"\n            :disabled="false"\n            variant="ghost"\n            :square="false"\n            :block="false"\n            :isLoading="false">\n            {{ $tc(\'payrexx-payment.supportModal.supportButton\') }}\n        </sw-button>\n        {% endblock %}\n        {% block payrexx_payment_settings_actions_test %}\n        <sw-button-process @click="onTest"\n                           :isLoading="isTesting"\n                           :processSuccess="isTestSuccessful"\n                           :disabled="credentialsMissing || isLoading">\n            {{ $tc(\'payrexx-payment.settingsForm.test\') }}\n        </sw-button-process>\n        {% endblock %}\n\n\n        {% block payrexx_payment_settings_actions_save %}\n        <sw-button-process\n            class="payrexx_payment_settings_actions__save-action"\n            :isLoading="isLoading"\n            :processSuccess="isSaveSuccessful"\n            :disabled="isLoading || isTesting"\n            variant="primary"\n            @process-finish="saveFinish"\n            @click="onSave">\n            {{ $tc(\'payrexx-payment.settingsForm.save\') }}\n        </sw-button-process>\n        {% endblock %}\n    </template>\n    {% endblock %}\n\n\n    {% block payrexx_payment_settings_content %}\n    <template #content>\n        <sw-modal\n            v-if="isSupportModalOpen"\n            @modal-close="isSupportModalOpen = false"\n            :title="$tc(\'payrexx-payment.supportModal.title\')"\n            class="payrexx-support sw-modal--medium">\n            <sw-container columns="1fr 1fr">\n                <div class="payrexx-support__col">\n                    <div class="payrexx-support__icon">\n                        <sw-icon name="default-documentation-file" large="true"></sw-icon>\n                    </div>\n                    <p class="payrexx-support__desc">\n                        {{ $tc(\'payrexx-payment.supportModal.manualDesc\') }}\n                    </p>\n                    <sw-button\n                        :disabled="false"\n                        variant="primary"\n                        :square="false"\n                        :block="false"\n                        :isLoading="false"\n                        link="https://help.payrexx.com/integration/e-commerce/shopware-6">\n                        {{ $tc(\'payrexx-payment.supportModal.manualButton\') }}\n                    </sw-button>\n                </div>\n                <div class="payrexx-support__col">\n                    <div class="payrexx-support__icon">\n                        <sw-icon name="default-device-headset" large="true"></sw-icon>\n                    </div>\n                    <p class="payrexx-support__desc">\n                        {{ $tc(\'payrexx-payment.supportModal.supportDesc\') }}\n                    </p>\n                    <sw-button\n                        :disabled="false"\n                        variant="primary"\n                        :square="false"\n                        :block="false"\n                        :isLoading="false"\n                        link="mailto:support+shopware@payrexx.com">\n                        {{ $tc(\'payrexx-payment.supportModal.supportButton\') }}\n                    </sw-button>\n                </div>\n            </sw-container>\n        </sw-modal>\n\n        <sw-card-view>\n            <sw-system-config\n                ref="systemConfig"\n                sales-channel-switchable\n                inherit\n                @config-changed="onConfigChange"\n                domain="PayrexxPaymentGatewaySW6.settings">\n            </sw-system-config>\n        </sw-card-view>\n    </template>\n    {% endblock %}\n</sw-page>\n{% endblock %}\n',mixins:[a.getByName("notification"),a.getByName("sw-inline-snippet")],inject:["PayrexxPaymentSettingsService"],data(){return{config:{},isLoading:!1,isTesting:!1,isSaveSuccessful:!1,isTestSuccessful:!1,instanceNameFilled:!1,apiKeyFilled:!1,showValidationErrors:!1,isSupportModalOpen:!1}},computed:{credentialsMissing:function(){return!this.instanceNameFilled||!this.apiKeyFilled}},methods:{saveFinish(){this.isSaveSuccessful=!1},onSave(){if(this.isLoading=!0,this.credentialsMissing){this.showValidationErrors=!0,this.isLoading=!1;return}this.isSaveSuccessful=!1,this.$refs.systemConfig.saveAll().then(()=>{this.isLoading=!1,this.isSaveSuccessful=!0}).catch(()=>{this.isLoading=!1})},onTest(){this.isTesting=!0,this.isTestSuccessful=!1;let e={instanceName:this.getConfigValue("instanceName"),apiKey:this.getConfigValue("apiKey"),platform:this.getConfigValue("platform")};this.PayrexxPaymentSettingsService.validateApiCredentials(e).then(e=>{let t=e.credentialsValid;e.error,t?(this.createNotificationSuccess({title:this.$tc("payrexx-payment.settingsForm.messages.titleSuccess"),message:this.$tc("payrexx-payment.settingsForm.messages.messageTestSuccess")}),this.isTestSuccessful=!0):this.createNotificationError({title:this.$tc("payrexx-payment.settingsForm.messages.titleError"),message:this.$tc("payrexx-payment.settingsForm.messages.messageTestError")}),this.isTesting=!1}).catch(e=>{this.createNotificationError({title:this.$tc("payrexx-payment.settingsForm.messages.titleError"),message:this.$tc("payrexx-payment.settingsForm.messages.messageTestErrorGeneral")}),this.isTesting=!1})},onConfigChange(e){this.config=e,this.checkCredentialsFilled(),this.showValidationErrors=!1},getBind(e,t){return t!==this.config&&this.onConfigChange(t),this.showValidationErrors&&("PayrexxPaymentGatewaySW6.settings.instanceName"!==e.name||this.instanceNameFilled||(e.config.error={code:1,detail:this.$tc("payrexx-payment.settingsForm.messages.messageNotBlank")}),"PayrexxPaymentGatewaySW6.settings.apiKey"!==e.name||this.apiKeyFilled||(e.config.error={code:1,detail:this.$tc("payrexx-payment.settingsForm.messages.messageNotBlank")})),e},checkCredentialsFilled(){this.instanceNameFilled=!!this.getConfigValue("instanceName"),this.apiKeyFilled=!!this.getConfigValue("apiKey")},getConfigValue(e){let t=this.$refs.systemConfig.actualConfigData.null;return null===this.$refs.systemConfig.currentSalesChannelId?this.config[`PayrexxPaymentGatewaySW6.settings.${e}`]:this.config[`PayrexxPaymentGatewaySW6.settings.${e}`]||t[`PayrexxPaymentGatewaySW6.settings.${e}`]}}});var i=JSON.parse('{"payrexx-payment":{"module":{"title":"Payrexx Payments","description":"Payrexx Payments"},"settingsForm":{"title":"Payrexx Payments","test":"Teste den API-Zugang","save":"Speichern","messages":{"messageNotBlank":"Dieses Feld darf nicht leer sein.","titleSuccess":"Erfolg","titleError":"Fehler","messageTestSuccess":"Die API-Zugangsdaten sind korrekt.","messageTestError":"Die API-Zugangsdaten sind falsch.","messageTestErrorGeneral":"Die API-Zugangsdaten konnten nicht verifiziert werden.","messageSaveSuccess":"Die Plugin-Einstellungen wurden gespeichert.","messageSaveError":"Die Plugin-Einstellungen konnten nicht gespeichert werden."}},"supportModal":{"supportButton":"Support","title":"Wie k\xf6nnen wir Ihnen helfen?","supportDesc":"Kontaktieren Sie unser Support-Team","manualButton":"Dokumentation","manualDesc":"Lesen Sie unsere Integrations Anleitung"}}}'),r=JSON.parse('{"payrexx-payment":{"module":{"title":"Payrexx Payments","description":"Payrexx Payments"},"settingsForm":{"title":"Payrexx Payments","test":"Teste den API-Zugang","save":"Speichern","messages":{"messageNotBlank":"Dieses Feld darf nicht leer sein.","titleSuccess":"Erfolg","titleError":"Fehler","messageTestSuccess":"Die API-Zugangsdaten sind korrekt.","messageTestError":"Die API-Zugangsdaten sind falsch.","messageTestErrorGeneral":"Die API-Zugangsdaten konnten nicht verifiziert werden.","messageSaveSuccess":"Die Plugin-Einstellungen wurden gespeichert.","messageSaveError":"Die Plugin-Einstellungen konnten nicht gespeichert werden."}},"supportModal":{"supportButton":"Support","title":"Wie k\xf6nnen wir Ihnen helfen?","supportDesc":"Kontaktieren Sie unser Support-Team","manualButton":"Dokumentation","manualDesc":"Lesen Sie unsere Integrations Anleitung"}}}'),o=JSON.parse('{"payrexx-payment":{"module":{"title":"Payrexx Payments","description":"Payrexx Payments"},"settingsForm":{"title":"Payrexx Payments","test":"Test API-Credentials","save":"Save","messages":{"messageNotBlank":"This Field must not be empty.","titleSuccess":"Success","titleError":"Error","messageTestSuccess":"The API credentials are correct.","messageTestError":"The API credentials are wrong.","messageTestErrorGeneral":"The API-Credentials could not be verified.","messageSaveSuccess":"The plugin settings have been saved.","messageSaveError":"The plugin settings could not be saved."}},"supportModal":{"supportButton":"Support","title":"How Can We Help You?","supportDesc":"Contact our support team","manualButton":"Manual","manualDesc":"Read our integration manual"}}}');let{Module:l}=Shopware;l.register("payrexx-payment",{type:"plugin",name:"PayrexxPayment",title:"payrexx-payment.module.title",description:"payrexx-payment.module.description",version:"1.0.0",targetVersion:"1.0.0",icon:"regular-cog",snippets:{"de-DE":i,"de-CH":r,"en-GB":o},routes:{index:{component:"payrexx-settings",path:"index",meta:{parentPath:"sw.settings.index"}}},settingsItem:{name:"payrexx-payment-settings",group:"plugins",to:"payrexx.payment.index",icon:"regular-credit-card",backgroundEnabled:!0}}),n(121);var p=(()=>{let e=n(435);return e.keys().reduce((t,n)=>{let s=n.split(".")[1].split("/")[1];return t.push({name:s,functional:!0,render(t,s){let a=s.data;return t("span",{class:[a.staticClass,a.class],style:a.style,attrs:a.attrs,on:a.on,domProps:{innerHTML:e(n)}})}}),t},[])})();let{Component:c}=Shopware;(()=>p.map(e=>c.register(e.name,e)))()}()})();
//# sourceMappingURL=payrexx-payment-gateway-s-w6.js.map